<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="main.css" />
    <title>お買い物確認</title>
  </head>
  <body>
    <header class="flex p-6 items-center justify-between">
      <h1 class="text-4xl">オンラインショッピング</h1>
      <div class="mr-16">「ゲスト」さん</div>
    </header>
    <hr />
    <div class="container w-1/2 mx-auto mt-24">
      <h3>●商品一覧</h3>
      <form action="order_end" method="POST" id="addProductForm">
        <table border="1">
          <tr>
            <th>商品コード</th>
            <th>商品名</th>
            <th>販売元</th>
            <th>価格</th>
            <th>購入数</th>
          </tr>
          <th:block th:each="product : ${session.selectProductMap}">
            <tr>
              <td>[[${product.key}]]</td>
              <td>[[${product.value.productName}]]</td>
              <td>[[${product.value.maker}]]</td>
              <td align="right">[[${product.value.unitPrice}]]</td>
              <td>[[${product.value.productCnt}]]</td>
            </tr>
          </th:block>
          <!--				<c:forEach var="product" items="${selectProductMap}" varStatus="st">-->
          <!--					<tr>-->
          <!--						<td><c:out value="${product.key}" /></td>-->
          <!--						<td><c:out value="${product.value.productName}" /></td>-->
          <!--						<td><c:out value="${product.value.maker}" /></td>-->
          <!--						<td align="right">\<fmt:formatNumber value="${product.value.unitPrice}" /></td>-->
          <!--						<td><c:out value="${product.value.productCnt}" /></td>-->
          <!--					</tr>-->
          <!--				</c:forEach>-->
        </table>
        <h3>●料金</h3>
        <table border="1">
          <tr>
            <th align="right">小計</th>
            <td align="right">[[${sum}]]</td>
          </tr>
          <tr>
            <th align="right">消費税</th>
            <td align="right">[[${tax}]]</td>
          </tr>
          <tr>
            <th>合計金額</th>
            <td align="right">[[${total}]]</td>
          </tr>
        </table>
        <br />
        <div class="flex gap-12 justify-between mt-4">
          <input
            type="submit"
            name="delete"
            value="買い物をやめる"
            class="rounded-lg border border-primary-500 bg-primary-500 px-5 py-2.5 text-center text-sm font-medium text-white shadow-sm transition-all hover:border-primary-700 hover:bg-primary-700 focus:ring focus:ring-primary-200 disabled:cursor-not-allowed disabled:border-primary-300 disabled:bg-primary-300"
          />
          <input
            type="submit"
            name="order"
            value="注文する"
            class="rounded-lg border border-primary-500 bg-primary-500 px-5 py-2.5 text-center text-sm font-medium text-white shadow-sm transition-all hover:border-primary-700 hover:bg-primary-700 focus:ring focus:ring-primary-200 disabled:cursor-not-allowed disabled:border-primary-300 disabled:bg-primary-300"
          />
          <input
            type="button"
            value="戻る"
            onclick="location.href='cart_list'"
            class="rounded-lg border border-primary-500 bg-primary-500 px-5 py-2.5 text-center text-sm font-medium text-white shadow-sm transition-all hover:border-primary-700 hover:bg-primary-700 focus:ring focus:ring-primary-200 disabled:cursor-not-allowed disabled:border-primary-300 disabled:bg-primary-300"
          />
        </div>
        <span id="cntErrMesse" class="error">[[${error}]]</span>
      </form>
      <span id="DbErrMesse" class="error">[[${DBerror}]]</span>
    </div>
  </body>
</html>
